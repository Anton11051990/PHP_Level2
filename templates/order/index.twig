<div class="container-fluid">
    <div class="px-lg-5">
        <!-- For demo purpose -->
        <div class="row py-3">
            <div class="col-lg-12 mx-auto">
                <div class="text-white p-2 shadow-sm rounded banner text-center">
                    <h1 class="display-6">Заказы</h1>
                </div>
            </div>
        </div>
        <!-- End -->
        {% if order == false %}
            Заказов нет
        {% endif %}
        <br>
                {% for item in order %}
                    <div class="order-item" id="{{ item.id }}"><span>Заказ №{{ item.id }}, от {{ item.created_at }}, почта {{ item.email }}</span>
                        {% if isAdmin == true%}
                            <a href="/adminOrder/order/?id={{ item.id }}" style="padding: 5px 5px;
                               background-color: deepskyblue;
                               margin: 0 1.5em 1em 1.5em;
                               width: 100%;
                               text-align: center;
                               color: white;
                                border: none; " class="rounded-pill"
                            >Детали заказа</a>
                        {% endif %}
                        <button data-id="{{ item.id }}"
                                style="padding: 5px 5px;
                               background-color: red;
                               margin: 0 1.5em 1em 1.5em;
                               width: 25%;
                               text-align: center;
                               color: white;
                                border: none; " class="rounded-pill delete-order"
                        >Удалить</button>
                  </div>
                {% endfor %}
    </div>
</div>

<script>
    let buttons = document.querySelectorAll('.delete-order');
    buttons.forEach((elem)=>{
        elem.addEventListener('click', ()=>{
            let id = elem.getAttribute('data-id');
            (
                async () => {
                    const response = await fetch('/order/delete/?id=' + id);
                    document.getElementById(id).remove();
                }
            )();
        })
    });
</script>